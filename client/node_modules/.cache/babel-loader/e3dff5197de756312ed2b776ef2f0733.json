{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tanka\\\\Desktop\\\\ESC\\\\Project\\\\SingHealthApp\\\\singhealth2.0\\\\client\\\\src\\\\components\\\\account\\\\AccountInfo.js\";\nimport React, { Component } from \"react\";\nimport { Typography, Input, Button, Layout, Row, Col, Card, Form } from \"antd\";\nimport { LockOutlined } from \"@ant-design/icons\";\nimport { display } from \"../../actions/auditActions.js\";\nimport { setSelectedTenant, getTenant } from \"../../actions/tenantActions\";\nimport { changePassword } from \"../../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport store from \"../../store.js\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nconst gridStyleLeft = {\n  width: \"50%\",\n  textAlign: \"Left\"\n};\nconst gridStyleRight = {\n  width: \"50%\",\n  textAlign: \"Right\"\n};\n\nclass AccountInfo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeOld = values => {\n      console.log(this.state);\n      this.setState({\n        oldPass: values.nativeEvent.explicitOriginalTarget.value\n      });\n    };\n\n    this.onChangeRe = values => {\n      console.log(this.state);\n      this.setState({\n        rePass: values.nativeEvent.explicitOriginalTarget.value\n      });\n    };\n\n    this.onChangeNew = values => {\n      console.log(this.state);\n      this.setState({\n        newPass: values.nativeEvent.explicitOriginalTarget.value\n      });\n    };\n\n    this.changePass = () => {\n      console.log(this.state);\n\n      if (this.state.newPass == this.state.rePass) {\n        this.props.changePassword({\n          oldPass: this.state.oldPass,\n          rePass: this.state.rePass,\n          newPass: this.state.newPass,\n          updateId: this.state.updateId\n        });\n      } else {\n        console.log(\"Password Mismatch\");\n      }\n    };\n\n    this.state = {\n      tenantId: \"\",\n      updateId: \"\",\n      tenantLocation: \"\",\n      auditor: \"\",\n      errors: {},\n      oldPass: \"\",\n      rePass: \"\",\n      newPass: \"\"\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"Mounted: \", store.getState().auth.user.id);\n    getTenant(data => {\n      for (var i = 0; i < data.length; i++) {\n        if (data[i].userId === store.getState().auth.user.id) {\n          this.setState({\n            tenantId: data[i]._id,\n            tenantLocation: data[i].address,\n            auditor: data[i].auditor,\n            updateId: data[i].userId\n          }, console.log(data[i]._id));\n        }\n      }\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.props.auth;\n    const {\n      errors\n    } = this.state.errors;\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Tenant Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Tenant ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"idInfo\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: user.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Auditor:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: this.state.auditor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Tenant Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: this.state.tenantLocation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Institution:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: user.institution\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        size: \"small\",\n        style: {\n          \"background-color\": \"#F0F2F5\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          className: \"addComment\",\n          layout: \"vertical\",\n          size: \"small\",\n          initialValues: {\n            remember: false\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"changePassword\",\n            label: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"oldpassword\",\n            rules: [{\n              required: true,\n              message: \"Please input your Old Password!\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n                className: \"site-form-item-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 25\n              }, this),\n              placeholder: \"Old Password\",\n              onChange: this.onChangeOld // value={this.state.password}\n              // error={errors.password}\n              ,\n              id: \"oldpassword\",\n              type: \"password\" // className={classnames(\"\", {\n              //     // invalid: errors.password || errors.passwordincorrect,\n              // })}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"newpassword\",\n            rules: [{\n              required: true,\n              message: \"Please input your New Password!\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n                className: \"site-form-item-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 25\n              }, this),\n              placeholder: \"New Password\",\n              onChange: this.onChangeNew,\n              value: this.state.password // error={errors.password}\n              ,\n              id: \"newpassword\",\n              type: \"password\" // className={classnames(\"\", {\n              //     // invalid: errors.password || errors.passwordincorrect,\n              // })}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"repassword\",\n            rules: [{\n              required: true,\n              message: \"Please input your Password!\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n                className: \"site-form-item-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 25\n              }, this),\n              placeholder: \"Re-type Password\",\n              onChange: this.onChangeRe // value={this.state.password}\n              // error={errors.password}\n              ,\n              id: \"repassword\",\n              type: \"password\" // className={classnames(\"\", {\n              //     // invalid: errors.password || errors.passwordincorrect,\n              // })}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"view-audit-buttons\",\n              onClick: this.changePass,\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nAccountInfo.propTypes = {\n  setSelectedTenant: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  userID: state.auth.user.id,\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  setSelectedTenant,\n  getTenant,\n  display,\n  changePassword\n})(AccountInfo);","map":{"version":3,"sources":["C:/Users/tanka/Desktop/ESC/Project/SingHealthApp/singhealth2.0/client/src/components/account/AccountInfo.js"],"names":["React","Component","Typography","Input","Button","Layout","Row","Col","Card","Form","LockOutlined","display","setSelectedTenant","getTenant","changePassword","connect","store","PropTypes","Title","gridStyleLeft","width","textAlign","gridStyleRight","AccountInfo","constructor","props","onChangeOld","values","console","log","state","setState","oldPass","nativeEvent","explicitOriginalTarget","value","onChangeRe","rePass","onChangeNew","newPass","changePass","updateId","tenantId","tenantLocation","auditor","errors","componentDidMount","getState","auth","user","id","data","i","length","userId","_id","address","render","clear","name","institution","remember","required","message","password","propTypes","func","isRequired","mapStateToProps","userID"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,EAAqBC,KAArB,EAA4BC,MAA5B,EAAoCC,MAApC,EAA4CC,GAA5C,EAAiDC,GAAjD,EAAsDC,IAAtD,EAA4DC,IAA5D,QAAwE,MAAxE;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,SAASC,OAAT,QAAwB,+BAAxB;AACA,SAASC,iBAAT,EAA4BC,SAA5B,QAA6C,6BAA7C;AACA,SAASC,cAAT,QAA+B,2BAA/B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAYhB,UAAlB;AAEA,MAAMiB,aAAa,GAAG;AACpBC,EAAAA,KAAK,EAAE,KADa;AAEpBC,EAAAA,SAAS,EAAE;AAFS,CAAtB;AAKA,MAAMC,cAAc,GAAG;AACrBF,EAAAA,KAAK,EAAE,KADc;AAErBC,EAAAA,SAAS,EAAE;AAFU,CAAvB;;AAKA,MAAME,WAAN,SAA0BtB,SAA1B,CAAoC;AAClCuB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAiCnBC,WAjCmB,GAiCJC,MAAD,IAAY;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACA,WAAKC,QAAL,CAAc;AACZC,QAAAA,OAAO,EAAEL,MAAM,CAACM,WAAP,CAAmBC,sBAAnB,CAA0CC;AADvC,OAAd;AAGD,KAtCkB;;AAAA,SAwCnBC,UAxCmB,GAwCLT,MAAD,IAAY;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACA,WAAKC,QAAL,CAAc;AACZM,QAAAA,MAAM,EAAEV,MAAM,CAACM,WAAP,CAAmBC,sBAAnB,CAA0CC;AADtC,OAAd;AAGD,KA7CkB;;AAAA,SA+CnBG,WA/CmB,GA+CJX,MAAD,IAAY;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACA,WAAKC,QAAL,CAAc;AACZQ,QAAAA,OAAO,EAAEZ,MAAM,CAACM,WAAP,CAAmBC,sBAAnB,CAA0CC;AADvC,OAAd;AAGD,KApDkB;;AAAA,SAsDnBK,UAtDmB,GAsDN,MAAM;AACjBZ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;;AACA,UAAI,KAAKA,KAAL,CAAWS,OAAX,IAAsB,KAAKT,KAAL,CAAWO,MAArC,EAA6C;AAC3C,aAAKZ,KAAL,CAAWX,cAAX,CAA0B;AACxBkB,UAAAA,OAAO,EAAE,KAAKF,KAAL,CAAWE,OADI;AAExBK,UAAAA,MAAM,EAAE,KAAKP,KAAL,CAAWO,MAFK;AAGxBE,UAAAA,OAAO,EAAE,KAAKT,KAAL,CAAWS,OAHI;AAIxBE,UAAAA,QAAQ,EAAE,KAAKX,KAAL,CAAWW;AAJG,SAA1B;AAMD,OAPD,MAOO;AACLb,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD;AACF,KAlEkB;;AAEjB,SAAKC,KAAL,GAAa;AACXY,MAAAA,QAAQ,EAAE,EADC;AAEXD,MAAAA,QAAQ,EAAE,EAFC;AAGXE,MAAAA,cAAc,EAAE,EAHL;AAIXC,MAAAA,OAAO,EAAE,EAJE;AAKXC,MAAAA,MAAM,EAAE,EALG;AAMXb,MAAAA,OAAO,EAAE,EANE;AAOXK,MAAAA,MAAM,EAAE,EAPG;AAQXE,MAAAA,OAAO,EAAE;AARE,KAAb;AAUD;;AAEDO,EAAAA,iBAAiB,GAAG;AAClBlB,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBb,KAAK,CAAC+B,QAAN,GAAiBC,IAAjB,CAAsBC,IAAtB,CAA2BC,EAApD;AACArC,IAAAA,SAAS,CAAEsC,IAAD,IAAU;AAClB,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,IAAI,CAACE,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AACpC,YAAID,IAAI,CAACC,CAAD,CAAJ,CAAQE,MAAR,KAAmBtC,KAAK,CAAC+B,QAAN,GAAiBC,IAAjB,CAAsBC,IAAtB,CAA2BC,EAAlD,EAAsD;AACpD,eAAKnB,QAAL,CACE;AACEW,YAAAA,QAAQ,EAAES,IAAI,CAACC,CAAD,CAAJ,CAAQG,GADpB;AAEEZ,YAAAA,cAAc,EAAEQ,IAAI,CAACC,CAAD,CAAJ,CAAQI,OAF1B;AAGEZ,YAAAA,OAAO,EAAEO,IAAI,CAACC,CAAD,CAAJ,CAAQR,OAHnB;AAIEH,YAAAA,QAAQ,EAAEU,IAAI,CAACC,CAAD,CAAJ,CAAQE;AAJpB,WADF,EAOE1B,OAAO,CAACC,GAAR,CAAYsB,IAAI,CAACC,CAAD,CAAJ,CAAQG,GAApB,CAPF;AASD;AACF;AACF,KAdQ,CAAT;AAeD;;AAqCDE,EAAAA,MAAM,GAAG;AACP,UAAM;AAAER,MAAAA;AAAF,QAAW,KAAKxB,KAAL,CAAWuB,IAA5B;AACA,UAAM;AAAEH,MAAAA;AAAF,QAAa,KAAKf,KAAL,CAAWe,MAA9B;AAEA,wBACE,QAAC,MAAD;AAAA,8BACE,QAAC,IAAD;AAAA,+BACE,QAAC,GAAD;AAAA,kCACE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AACE,cAAA,KAAK,EAAE;AAAE,8BAAc,MAAhB;AAAwBa,gBAAAA,KAAK,EAAE,MAA/B;AAAuCtC,gBAAAA,KAAK,EAAE;AAA9C,eADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAQE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,qCACE;AAAA,0BAAI6B,IAAI,CAACU;AAAT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBARF,eAaE;AAAA;AAAA;AAAA;AAAA,kBAbF,eAcE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AACE,cAAA,KAAK,EAAE;AAAE,8BAAc,MAAhB;AAAwBD,gBAAAA,KAAK,EAAE,MAA/B;AAAuCtC,gBAAAA,KAAK,EAAE;AAA9C,eADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAdF,eAqBE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,qCACE;AAAA,0BAAI6B,IAAI,CAACC;AAAT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBArBF,eA0BE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AACE,cAAA,KAAK,EAAE;AAAE,8BAAc,MAAhB;AAAwBQ,gBAAAA,KAAK,EAAE,MAA/B;AAAuCtC,gBAAAA,KAAK,EAAE;AAA9C,eADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBA1BF,eAiCE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,qCACE;AAAA,0BAAI,KAAKU,KAAL,CAAWc;AAAf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAjCF,eAsCE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AACE,cAAA,KAAK,EAAE;AAAE,8BAAc,MAAhB;AAAwBc,gBAAAA,KAAK,EAAE,MAA/B;AAAuCtC,gBAAAA,KAAK,EAAE;AAA9C,eADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAtCF,eA6CE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,qCACE;AAAA,0BAAI,KAAKU,KAAL,CAAWa;AAAf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBA7CF,eAkDE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AACE,cAAA,KAAK,EAAE;AAAE,8BAAc,MAAhB;AAAwBe,gBAAAA,KAAK,EAAE,MAA/B;AAAuCtC,gBAAAA,KAAK,EAAE;AAA9C,eADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAlDF,eAyDE;AAAI,YAAA,SAAS,EAAC,IAAd;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,MAAf;AAAA,qCACE;AAAA,0BAAI6B,IAAI,CAACW;AAAT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAzDF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAkEE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAC,OAAX;AAAmB,QAAA,KAAK,EAAE;AAAE,8BAAoB;AAAtB,SAA1B;AAAA,+BACE,QAAC,IAAD;AACE,UAAA,SAAS,EAAC,YADZ;AAEE,UAAA,MAAM,EAAC,UAFT;AAGE,UAAA,IAAI,EAAC,OAHP;AAIE,UAAA,aAAa,EAAE;AACbC,YAAAA,QAAQ,EAAE;AADG,WAJjB;AAAA,kCAQE,QAAC,IAAD,CAAM,IAAN;AACE,YAAA,IAAI,EAAC,gBADP;AAEE,YAAA,KAAK,eAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFT;AAAA;AAAA;AAAA;AAAA,kBARF,eAYE,QAAC,IAAD,CAAM,IAAN;AACE,YAAA,IAAI,EAAC,aADP;AAEE,YAAA,KAAK,EAAE,CACL;AAAEC,cAAAA,QAAQ,EAAE,IAAZ;AAAkBC,cAAAA,OAAO,EAAE;AAA3B,aADK,CAFT;AAAA,mCAME,QAAC,KAAD;AACE,cAAA,MAAM,eAAE,QAAC,YAAD;AAAc,gBAAA,SAAS,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,sBADV;AAEE,cAAA,WAAW,EAAC,cAFd;AAGE,cAAA,QAAQ,EAAE,KAAKrC,WAHjB,CAIE;AACA;AALF;AAME,cAAA,EAAE,EAAC,aANL;AAOE,cAAA,IAAI,EAAC,UAPP,CAQE;AACA;AACA;;AAVF;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,kBAZF,eA+BE,QAAC,IAAD,CAAM,IAAN;AACE,YAAA,IAAI,EAAC,aADP;AAEE,YAAA,KAAK,EAAE,CACL;AAAEoC,cAAAA,QAAQ,EAAE,IAAZ;AAAkBC,cAAAA,OAAO,EAAE;AAA3B,aADK,CAFT;AAAA,mCAME,QAAC,KAAD;AACE,cAAA,MAAM,eAAE,QAAC,YAAD;AAAc,gBAAA,SAAS,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,sBADV;AAEE,cAAA,WAAW,EAAC,cAFd;AAGE,cAAA,QAAQ,EAAE,KAAKzB,WAHjB;AAIE,cAAA,KAAK,EAAE,KAAKR,KAAL,CAAWkC,QAJpB,CAKE;AALF;AAME,cAAA,EAAE,EAAC,aANL;AAOE,cAAA,IAAI,EAAC,UAPP,CAQE;AACA;AACA;;AAVF;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,kBA/BF,eAkDE,QAAC,IAAD,CAAM,IAAN;AACE,YAAA,IAAI,EAAC,YADP;AAEE,YAAA,KAAK,EAAE,CACL;AAAEF,cAAAA,QAAQ,EAAE,IAAZ;AAAkBC,cAAAA,OAAO,EAAE;AAA3B,aADK,CAFT;AAAA,mCAME,QAAC,KAAD;AACE,cAAA,MAAM,eAAE,QAAC,YAAD;AAAc,gBAAA,SAAS,EAAC;AAAxB;AAAA;AAAA;AAAA;AAAA,sBADV;AAEE,cAAA,WAAW,EAAC,kBAFd;AAGE,cAAA,QAAQ,EAAE,KAAK3B,UAHjB,CAIE;AACA;AALF;AAME,cAAA,EAAE,EAAC,YANL;AAOE,cAAA,IAAI,EAAC,UAPP,CAQE;AACA;AACA;;AAVF;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA,kBAlDF,eAqEE,QAAC,IAAD,CAAM,IAAN;AAAA,mCACE,QAAC,MAAD;AAAQ,cAAA,SAAS,EAAC,oBAAlB;AAAuC,cAAA,OAAO,EAAE,KAAKI,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBArEF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAlEF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAkJD;;AA3NiC;;AA8NpCjB,WAAW,CAAC0C,SAAZ,GAAwB;AACtBrD,EAAAA,iBAAiB,EAAEK,SAAS,CAACiD,IAAV,CAAeC;AADZ,CAAxB;;AAGA,MAAMC,eAAe,GAAItC,KAAD,KAAY;AAClCuC,EAAAA,MAAM,EAAEvC,KAAK,CAACkB,IAAN,CAAWC,IAAX,CAAgBC,EADU;AAElCF,EAAAA,IAAI,EAAElB,KAAK,CAACkB,IAFsB;AAGlCH,EAAAA,MAAM,EAAEf,KAAK,CAACe;AAHoB,CAAZ,CAAxB;;AAKA,eAAe9B,OAAO,CAACqD,eAAD,EAAkB;AACtCxD,EAAAA,iBADsC;AAEtCC,EAAAA,SAFsC;AAGtCF,EAAAA,OAHsC;AAItCG,EAAAA;AAJsC,CAAlB,CAAP,CAKZS,WALY,CAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Typography, Input, Button, Layout, Row, Col, Card, Form } from \"antd\";\r\nimport { LockOutlined } from \"@ant-design/icons\";\r\nimport { display } from \"../../actions/auditActions.js\";\r\nimport { setSelectedTenant, getTenant } from \"../../actions/tenantActions\";\r\nimport { changePassword } from \"../../actions/authActions\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store.js\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst gridStyleLeft = {\r\n  width: \"50%\",\r\n  textAlign: \"Left\",\r\n};\r\n\r\nconst gridStyleRight = {\r\n  width: \"50%\",\r\n  textAlign: \"Right\",\r\n};\r\n\r\nclass AccountInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tenantId: \"\",\r\n      updateId: \"\",\r\n      tenantLocation: \"\",\r\n      auditor: \"\",\r\n      errors: {},\r\n      oldPass: \"\",\r\n      rePass: \"\",\r\n      newPass: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"Mounted: \", store.getState().auth.user.id);\r\n    getTenant((data) => {\r\n      for (var i = 0; i < data.length; i++) {\r\n        if (data[i].userId === store.getState().auth.user.id) {\r\n          this.setState(\r\n            {\r\n              tenantId: data[i]._id,\r\n              tenantLocation: data[i].address,\r\n              auditor: data[i].auditor,\r\n              updateId: data[i].userId,\r\n            },\r\n            console.log(data[i]._id)\r\n          );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onChangeOld = (values) => {\r\n    console.log(this.state);\r\n    this.setState({\r\n      oldPass: values.nativeEvent.explicitOriginalTarget.value,\r\n    });\r\n  };\r\n\r\n  onChangeRe = (values) => {\r\n    console.log(this.state);\r\n    this.setState({\r\n      rePass: values.nativeEvent.explicitOriginalTarget.value,\r\n    });\r\n  };\r\n\r\n  onChangeNew = (values) => {\r\n    console.log(this.state);\r\n    this.setState({\r\n      newPass: values.nativeEvent.explicitOriginalTarget.value,\r\n    });\r\n  };\r\n\r\n  changePass = () => {\r\n    console.log(this.state);\r\n    if (this.state.newPass == this.state.rePass) {\r\n      this.props.changePassword({\r\n        oldPass: this.state.oldPass,\r\n        rePass: this.state.rePass,\r\n        newPass: this.state.newPass,\r\n        updateId: this.state.updateId,\r\n      });\r\n    } else {\r\n      console.log(\"Password Mismatch\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.props.auth;\r\n    const { errors } = this.state.errors;\r\n\r\n    return (\r\n      <Layout>\r\n        <Card>\r\n          <Row>\r\n            <ul className=\"ul\">\r\n              <div\r\n                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n              >\r\n                Tenant Name:\r\n              </div>\r\n            </ul>\r\n            <ul className=\"ul\">\r\n              <div className=\"info\">\r\n                <b>{user.name}</b>\r\n              </div>\r\n            </ul>\r\n            <p></p>\r\n            <ul className=\"ul\">\r\n              <div\r\n                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n              >\r\n                Tenant ID:\r\n              </div>\r\n            </ul>\r\n            <ul className=\"ul\">\r\n              <div className=\"idInfo\">\r\n                <b>{user.id}</b>\r\n              </div>\r\n            </ul>\r\n            <ul className=\"ul\">\r\n              <div\r\n                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n              >\r\n                Auditor:\r\n              </div>\r\n            </ul>\r\n            <ul className=\"ul\">\r\n              <div className=\"info\">\r\n                <b>{this.state.auditor}</b>\r\n              </div>\r\n            </ul>\r\n            <ul className=\"ul\">\r\n              <div\r\n                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n              >\r\n                Tenant Location:\r\n              </div>\r\n            </ul>\r\n            <ul className=\"ul\">\r\n              <div className=\"info\">\r\n                <b>{this.state.tenantLocation}</b>\r\n              </div>\r\n            </ul>\r\n            <ul className=\"ul\">\r\n              <div\r\n                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n              >\r\n                Institution:\r\n              </div>\r\n            </ul>\r\n            <ul className=\"ul\">\r\n              <div className=\"info\">\r\n                <b>{user.institution}</b>\r\n              </div>\r\n            </ul>\r\n          </Row>\r\n        </Card>\r\n        <Card size=\"small\" style={{ \"background-color\": \"#F0F2F5\" }}>\r\n          <Form\r\n            className=\"addComment\"\r\n            layout=\"vertical\"\r\n            size=\"small\"\r\n            initialValues={{\r\n              remember: false,\r\n            }}\r\n          >\r\n            <Form.Item\r\n              name=\"changePassword\"\r\n              label={<b>Change Password</b>}\r\n            ></Form.Item>\r\n            <Form.Item\r\n              name=\"oldpassword\"\r\n              rules={[\r\n                { required: true, message: \"Please input your Old Password!\" },\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                placeholder=\"Old Password\"\r\n                onChange={this.onChangeOld}\r\n                // value={this.state.password}\r\n                // error={errors.password}\r\n                id=\"oldpassword\"\r\n                type=\"password\"\r\n                // className={classnames(\"\", {\r\n                //     // invalid: errors.password || errors.passwordincorrect,\r\n                // })}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"newpassword\"\r\n              rules={[\r\n                { required: true, message: \"Please input your New Password!\" },\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                placeholder=\"New Password\"\r\n                onChange={this.onChangeNew}\r\n                value={this.state.password}\r\n                // error={errors.password}\r\n                id=\"newpassword\"\r\n                type=\"password\"\r\n                // className={classnames(\"\", {\r\n                //     // invalid: errors.password || errors.passwordincorrect,\r\n                // })}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"repassword\"\r\n              rules={[\r\n                { required: true, message: \"Please input your Password!\" },\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                placeholder=\"Re-type Password\"\r\n                onChange={this.onChangeRe}\r\n                // value={this.state.password}\r\n                // error={errors.password}\r\n                id=\"repassword\"\r\n                type=\"password\"\r\n                // className={classnames(\"\", {\r\n                //     // invalid: errors.password || errors.passwordincorrect,\r\n                // })}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button className=\"view-audit-buttons\" onClick={this.changePass}>\r\n                Change Password\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Card>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nAccountInfo.propTypes = {\r\n  setSelectedTenant: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  userID: state.auth.user.id,\r\n  auth: state.auth,\r\n  errors: state.errors,\r\n});\r\nexport default connect(mapStateToProps, {\r\n  setSelectedTenant,\r\n  getTenant,\r\n  display,\r\n  changePassword,\r\n})(AccountInfo);\r\n"]},"metadata":{},"sourceType":"module"}