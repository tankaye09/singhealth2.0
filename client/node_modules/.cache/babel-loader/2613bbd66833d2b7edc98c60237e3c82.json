{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tanka\\\\Desktop\\\\ESC\\\\Project\\\\SingHealthApp\\\\singhealth2.0\\\\client\\\\src\\\\components\\\\account\\\\AccountInfo.js\";\nimport React, { Component } from \"react\";\nimport { Typography, Input, Button, Layout, Row, Col, Card, Form } from \"antd\";\nimport { LockOutlined } from \"@ant-design/icons\";\nimport { display } from \"../../actions/auditActions.js\";\nimport { setSelectedTenant, getTenant } from \"../../actions/tenantActions\";\nimport { changePassword } from \"../../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport store from \"../../store.js\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nconst gridStyleLeft = {\n  width: '50%',\n  textAlign: 'Left'\n};\nconst gridStyleRight = {\n  width: '50%',\n  textAlign: 'Right'\n};\n\nclass AccountInfo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeOld = values => {\n      console.log(this.state);\n      this.setState({\n        oldPass: values.nativeEvent.explicitOriginalTarget.value\n      });\n    };\n\n    this.onChangeRe = values => {\n      console.log(this.state);\n      this.setState({\n        rePass: values.nativeEvent.explicitOriginalTarget.value\n      });\n    };\n\n    this.onChangeNew = values => {\n      console.log(this.state);\n      this.setState({\n        newPass: values.nativeEvent.explicitOriginalTarget.value\n      });\n    };\n\n    this.changePass = () => {\n      console.log(this.state);\n\n      if (this.state.newPass == this.state.rePass) {\n        this.props.changePassword({\n          oldPass: this.state.oldPass,\n          rePass: this.state.rePass,\n          newPass: this.state.newPass,\n          updateId: this.state.updateId\n        });\n      } else {\n        console.log(\"Password Mismatch\");\n      }\n    };\n\n    this.state = {\n      tenantId: \"\",\n      updateId: \"\",\n      tenantLocation: \"\",\n      auditor: \"\",\n      errors: {},\n      oldPass: \"\",\n      rePass: \"\",\n      newPass: \"\"\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"Mounted: \", store.getState().auth.user.id);\n    getTenant(data => {\n      for (var i = 0; i < data.length; i++) {\n        if (data[i].userId === store.getState().auth.user.id) {\n          this.setState({\n            tenantId: data[i]._id,\n            tenantLocation: data[i].address,\n            auditor: data[i].auditor,\n            updateId: data[i].userId\n          }, console.log(data[i]._id));\n        }\n      }\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.props.auth;\n    const {\n      errors\n    } = this.state.errors;\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Tenant Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: user.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Tenant ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"idInfo\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: user.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Auditor:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: this.state.auditor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Tenant Location:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: this.state.tenantLocation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                \"text-align\": \"left\",\n                clear: \"both\",\n                width: \"100%\"\n              },\n              children: \"Institution:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"ul\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: user.institution\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        size: \"small\",\n        style: {\n          \"background-color\": \"#F0F2F5\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          className: \"addComment\",\n          layout: \"vertical\",\n          size: \"small\",\n          initialValues: {\n            remember: false\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"changePassword\",\n            label: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 65\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"oldpassword\",\n            rules: [{\n              required: true,\n              message: \"Please input your Old Password!\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n                className: \"site-form-item-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 41\n              }, this),\n              placeholder: \"Old Password\",\n              onChange: this.onChangeOld // value={this.state.password}\n              // error={errors.password}\n              ,\n              id: \"oldpassword\",\n              type: \"password\" // className={classnames(\"\", {\n              //     // invalid: errors.password || errors.passwordincorrect,\n              // })}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"newpassword\",\n            rules: [{\n              required: true,\n              message: \"Please input your New Password!\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n                className: \"site-form-item-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 41\n              }, this),\n              placeholder: \"New Password\",\n              onChange: this.onChangeNew,\n              value: this.state.password // error={errors.password}\n              ,\n              id: \"newpassword\",\n              type: \"password\" // className={classnames(\"\", {\n              //     // invalid: errors.password || errors.passwordincorrect,\n              // })}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"repassword\",\n            rules: [{\n              required: true,\n              message: \"Please input your Password!\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n                className: \"site-form-item-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 41\n              }, this),\n              placeholder: \"Re-type Password\",\n              onChange: this.onChangeRe // value={this.state.password}\n              // error={errors.password}\n              ,\n              id: \"repassword\",\n              type: \"password\" // className={classnames(\"\", {\n              //     // invalid: errors.password || errors.passwordincorrect,\n              // })}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"view-audit-buttons\",\n              onClick: this.changePass,\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nAccountInfo.propTypes = {\n  setSelectedTenant: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  userID: state.auth.user.id,\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  setSelectedTenant,\n  getTenant,\n  display,\n  changePassword\n})(AccountInfo);","map":{"version":3,"sources":["C:/Users/tanka/Desktop/ESC/Project/SingHealthApp/singhealth2.0/client/src/components/account/AccountInfo.js"],"names":["React","Component","Typography","Input","Button","Layout","Row","Col","Card","Form","LockOutlined","display","setSelectedTenant","getTenant","changePassword","connect","store","PropTypes","Title","gridStyleLeft","width","textAlign","gridStyleRight","AccountInfo","constructor","props","onChangeOld","values","console","log","state","setState","oldPass","nativeEvent","explicitOriginalTarget","value","onChangeRe","rePass","onChangeNew","newPass","changePass","updateId","tenantId","tenantLocation","auditor","errors","componentDidMount","getState","auth","user","id","data","i","length","userId","_id","address","render","clear","name","institution","remember","required","message","password","propTypes","func","isRequired","mapStateToProps","userID"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n    Typography,\r\n    Input,\r\n    Button,\r\n    Layout,\r\n    Row,\r\n    Col,\r\n    Card,\r\n    Form,\r\n} from \"antd\";\r\nimport { LockOutlined } from \"@ant-design/icons\";\r\nimport { display } from \"../../actions/auditActions.js\";\r\nimport { setSelectedTenant, getTenant } from \"../../actions/tenantActions\";\r\nimport { changePassword } from \"../../actions/authActions\";\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../store.js\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst gridStyleLeft = {\r\n    width: '50%',\r\n    textAlign: 'Left',\r\n};\r\n\r\nconst gridStyleRight = {\r\n    width: '50%',\r\n    textAlign: 'Right',\r\n};\r\n\r\n\r\nclass AccountInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tenantId: \"\",\r\n            updateId: \"\",\r\n            tenantLocation: \"\",\r\n            auditor: \"\",\r\n            errors: {},\r\n            oldPass: \"\",\r\n            rePass: \"\",\r\n            newPass: \"\",\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"Mounted: \", store.getState().auth.user.id);\r\n        getTenant((data) => {\r\n            for (var i = 0; i < data.length; i++) {\r\n                if (data[i].userId === store.getState().auth.user.id) {\r\n                    this.setState(\r\n                        { tenantId: data[i]._id, tenantLocation: data[i].address, auditor: data[i].auditor, updateId: data[i].userId, },\r\n                        console.log(data[i]._id),\r\n                    );\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    onChangeOld = (values) => {\r\n        console.log(this.state);\r\n        this.setState({\r\n            oldPass: values.nativeEvent.explicitOriginalTarget.value,\r\n        });\r\n    };\r\n\r\n    onChangeRe = (values) => {\r\n        console.log(this.state);\r\n        this.setState({\r\n            rePass: values.nativeEvent.explicitOriginalTarget.value,\r\n        });\r\n    };\r\n\r\n    onChangeNew = (values) => {\r\n        console.log(this.state);\r\n        this.setState({\r\n            newPass: values.nativeEvent.explicitOriginalTarget.value,\r\n        });\r\n    };\r\n\r\n    changePass = () => {\r\n        console.log(this.state);\r\n        if (this.state.newPass == this.state.rePass) {\r\n            this.props.changePassword({\r\n                oldPass: this.state.oldPass,\r\n                rePass: this.state.rePass,\r\n                newPass: this.state.newPass,\r\n                updateId: this.state.updateId,\r\n            });\r\n        } else {\r\n            console.log(\"Password Mismatch\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.props.auth;\r\n        const { errors } = this.state.errors;\r\n\r\n        return (\r\n            <Layout>\r\n                <Card>\r\n                    <Row>\r\n                        <ul className=\"ul\">\r\n                            <div\r\n                                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n                            >\r\n                                Tenant Name:\r\n                            </div>\r\n                        </ul>\r\n                        <ul className=\"ul\">\r\n                            <div className=\"info\">\r\n                                <b>\r\n                                    {user.name}\r\n                                </b>\r\n                            </div>\r\n                        </ul>\r\n                        <p></p>\r\n                        <ul className=\"ul\">\r\n                            <div\r\n                                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n                            >\r\n                                Tenant ID:\r\n                            </div>\r\n                        </ul>\r\n                        <ul className=\"ul\">\r\n                            <div className=\"idInfo\">\r\n                                <b>\r\n                                    {user.id}\r\n                                </b>\r\n                            </div>\r\n                        </ul>\r\n                        <ul className=\"ul\">\r\n                            <div\r\n                                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n                            >\r\n                                Auditor:\r\n              </div>\r\n                        </ul>\r\n                        <ul className=\"ul\">\r\n                            <div className=\"info\">\r\n                                <b>{this.state.auditor}</b>\r\n                            </div>\r\n                        </ul>\r\n                        <ul className=\"ul\">\r\n                            <div\r\n                                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n                            >\r\n                                Tenant Location:\r\n              </div>\r\n                        </ul>\r\n                        <ul className=\"ul\">\r\n                            <div className=\"info\">\r\n                                <b>\r\n                                    {this.state.tenantLocation}\r\n                                </b>\r\n                            </div>\r\n                        </ul>\r\n                        <ul className=\"ul\">\r\n                            <div\r\n                                style={{ \"text-align\": \"left\", clear: \"both\", width: \"100%\" }}\r\n                            >\r\n                                Institution:\r\n              </div>\r\n                        </ul>\r\n                        <ul className=\"ul\">\r\n                            <div className=\"info\">\r\n                                <b>\r\n                                    {user.institution}\r\n                                </b>\r\n                            </div>\r\n                        </ul>\r\n                    </Row>\r\n                </Card>\r\n                <Card size=\"small\" style={{ \"background-color\": \"#F0F2F5\" }}>\r\n                    <Form\r\n                        className=\"addComment\"\r\n                        layout=\"vertical\"\r\n                        size=\"small\"\r\n                        initialValues={{\r\n                            remember: false,\r\n                        }}\r\n                    >\r\n                        <Form.Item name=\"changePassword\" label={<b>Change Password</b>}>\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"oldpassword\"\r\n                            rules={[\r\n                                { required: true, message: \"Please input your Old Password!\" },\r\n                            ]}\r\n                        >\r\n                            <Input\r\n                                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                                placeholder=\"Old Password\"\r\n                                onChange={this.onChangeOld}\r\n                                // value={this.state.password}\r\n                                // error={errors.password}\r\n                                id=\"oldpassword\"\r\n                                type=\"password\"\r\n                            // className={classnames(\"\", {\r\n                            //     // invalid: errors.password || errors.passwordincorrect,\r\n                            // })}\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"newpassword\"\r\n                            rules={[\r\n                                { required: true, message: \"Please input your New Password!\" },\r\n                            ]}\r\n                        >\r\n                            <Input\r\n                                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                                placeholder=\"New Password\"\r\n                                onChange={this.onChangeNew}\r\n                                value={this.state.password}\r\n                                // error={errors.password}\r\n                                id=\"newpassword\"\r\n                                type=\"password\"\r\n                            // className={classnames(\"\", {\r\n                            //     // invalid: errors.password || errors.passwordincorrect,\r\n                            // })}\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item\r\n                            name=\"repassword\"\r\n                            rules={[\r\n                                { required: true, message: \"Please input your Password!\" },\r\n                            ]}\r\n                        >\r\n                            <Input\r\n                                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                                placeholder=\"Re-type Password\"\r\n                                onChange={this.onChangeRe}\r\n                                // value={this.state.password}\r\n                                // error={errors.password}\r\n                                id=\"repassword\"\r\n                                type=\"password\"\r\n                            // className={classnames(\"\", {\r\n                            //     // invalid: errors.password || errors.passwordincorrect,\r\n                            // })}\r\n                            />\r\n                        </Form.Item>\r\n                        <Form.Item>\r\n                            <Button\r\n                                className=\"view-audit-buttons\"\r\n                                onClick={this.changePass}\r\n                            >\r\n                                Change Password\r\n                </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Card>\r\n            </Layout >\r\n        );\r\n    }\r\n}\r\n\r\nAccountInfo.propTypes = {\r\n    setSelectedTenant: PropTypes.func.isRequired,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n    userID: state.auth.user.id,\r\n    auth: state.auth,\r\n    errors: state.errors,\r\n});\r\nexport default connect(mapStateToProps, {\r\n    setSelectedTenant,\r\n    getTenant,\r\n    display,\r\n    changePassword,\r\n})(AccountInfo);\r\n"]},"metadata":{},"sourceType":"module"}