{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useModal;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _usePatchElement3 = _interopRequireDefault(require(\"../../_util/hooks/usePatchElement\"));\n\nvar _HookModal = _interopRequireDefault(require(\"./HookModal\"));\n\nvar _confirm = require(\"../confirm\");\n\nvar uuid = 0;\nvar ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (_props, ref) {\n  var _usePatchElement = (0, _usePatchElement3[\"default\"])(),\n      _usePatchElement2 = (0, _slicedToArray2[\"default\"])(_usePatchElement, 2),\n      elements = _usePatchElement2[0],\n      patchElement = _usePatchElement2[1];\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      patchElement: patchElement\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\n\nfunction useModal() {\n  var holderRef = React.useRef(null);\n  var getConfirmFunc = React.useCallback(function (withFunc) {\n    return function hookConfirm(config) {\n      var _a;\n\n      uuid += 1;\n      var modalRef = /*#__PURE__*/React.createRef();\n      var closeFunc;\n      var modal = /*#__PURE__*/React.createElement(_HookModal[\"default\"], {\n        key: \"modal-\".concat(uuid),\n        config: withFunc(config),\n        ref: modalRef,\n        afterClose: function afterClose() {\n          closeFunc();\n        }\n      });\n      closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n      return {\n        destroy: function destroy() {\n          if (modalRef.current) {\n            modalRef.current.destroy();\n          }\n        },\n        update: function update(newConfig) {\n          if (modalRef.current) {\n            modalRef.current.update(newConfig);\n          }\n        }\n      };\n    };\n  }, []);\n  var fns = React.useMemo(function () {\n    return {\n      info: getConfirmFunc(_confirm.withInfo),\n      success: getConfirmFunc(_confirm.withSuccess),\n      error: getConfirmFunc(_confirm.withError),\n      warning: getConfirmFunc(_confirm.withWarn),\n      confirm: getConfirmFunc(_confirm.withConfirm)\n    };\n  }, []); // eslint-disable-next-line react/jsx-key\n\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    ref: holderRef\n  })];\n}","map":{"version":3,"sources":["C:/Users/tanka/Desktop/ESC/Project/SingHealthApp/singhealth2.0/client/node_modules/antd/lib/modal/useModal/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","useModal","_slicedToArray2","React","_usePatchElement3","_HookModal","_confirm","uuid","ElementsHolder","memo","forwardRef","_props","ref","_usePatchElement","_usePatchElement2","elements","patchElement","useImperativeHandle","createElement","Fragment","holderRef","useRef","getConfirmFunc","useCallback","withFunc","hookConfirm","config","_a","modalRef","createRef","closeFunc","modal","key","concat","afterClose","current","destroy","update","newConfig","fns","useMemo","info","withInfo","success","withSuccess","error","withError","warning","withWarn","confirm","withConfirm"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useModal;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _usePatchElement3 = _interopRequireDefault(require(\"../../_util/hooks/usePatchElement\"));\n\nvar _HookModal = _interopRequireDefault(require(\"./HookModal\"));\n\nvar _confirm = require(\"../confirm\");\n\nvar uuid = 0;\nvar ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (_props, ref) {\n  var _usePatchElement = (0, _usePatchElement3[\"default\"])(),\n      _usePatchElement2 = (0, _slicedToArray2[\"default\"])(_usePatchElement, 2),\n      elements = _usePatchElement2[0],\n      patchElement = _usePatchElement2[1];\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      patchElement: patchElement\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\n\nfunction useModal() {\n  var holderRef = React.useRef(null);\n  var getConfirmFunc = React.useCallback(function (withFunc) {\n    return function hookConfirm(config) {\n      var _a;\n\n      uuid += 1;\n      var modalRef = /*#__PURE__*/React.createRef();\n      var closeFunc;\n      var modal = /*#__PURE__*/React.createElement(_HookModal[\"default\"], {\n        key: \"modal-\".concat(uuid),\n        config: withFunc(config),\n        ref: modalRef,\n        afterClose: function afterClose() {\n          closeFunc();\n        }\n      });\n      closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n      return {\n        destroy: function destroy() {\n          if (modalRef.current) {\n            modalRef.current.destroy();\n          }\n        },\n        update: function update(newConfig) {\n          if (modalRef.current) {\n            modalRef.current.update(newConfig);\n          }\n        }\n      };\n    };\n  }, []);\n  var fns = React.useMemo(function () {\n    return {\n      info: getConfirmFunc(_confirm.withInfo),\n      success: getConfirmFunc(_confirm.withSuccess),\n      error: getConfirmFunc(_confirm.withError),\n      warning: getConfirmFunc(_confirm.withWarn),\n      confirm: getConfirmFunc(_confirm.withConfirm)\n    };\n  }, []); // eslint-disable-next-line react/jsx-key\n\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    ref: holderRef\n  })];\n}"]},"metadata":{},"sourceType":"script"}