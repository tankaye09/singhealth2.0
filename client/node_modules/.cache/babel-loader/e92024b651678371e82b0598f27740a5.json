{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nexport function T() {\n  return true;\n}\n/**\r\n * Wrap file with Proxy to provides more info. Will fallback to object if Proxy not support.\r\n *\r\n * Origin comment: Fix IE file.status problem via coping a new Object\r\n */\n\nexport function wrapFile(file) {\n  var filledProps = {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  };\n\n  if (typeof Proxy !== 'undefined') {\n    var data = new Map(Object.entries(filledProps));\n    return new Proxy(file, {\n      get: function get(target, key) {\n        if (data.has(key)) {\n          return data.get(key);\n        }\n\n        return target[key];\n      },\n      set: function set(_, key, value) {\n        data.set(key, value);\n        return true;\n      },\n      has: function has(target, prop) {\n        return data.has(prop) || prop in target;\n      },\n      ownKeys: function ownKeys(target) {\n        var keys = [].concat(_toConsumableArray(Object.keys(target)), _toConsumableArray(data.keys()));\n        return _toConsumableArray(new Set(keys));\n      },\n      getOwnPropertyDescriptor: function getOwnPropertyDescriptor() {\n        return {\n          enumerable: true,\n          configurable: true\n        };\n      }\n    });\n  }\n\n  return _extends(_extends({}, file), filledProps);\n}\nexport function getFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(function (item) {\n    return item[matchKey] === file[matchKey];\n  })[0];\n}\nexport function removeFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  var removed = fileList.filter(function (item) {\n    return item[matchKey] !== file[matchKey];\n  });\n\n  if (removed.length === fileList.length) {\n    return null;\n  }\n\n  return removed;\n} // ==================== Default Image Preview ====================\n\nvar extname = function extname() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\n\nvar isImageFileType = function isImageFileType(type) {\n  return type.indexOf('image/') === 0;\n};\n\nexport var isImageUrl = function isImageUrl(file) {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n\n  var url = file.thumbUrl || file.url;\n  var extension = extname(url);\n\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(extension)) {\n    return true;\n  }\n\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n\n  return true;\n};\nvar MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(function (resolve) {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n\n    var canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n    document.body.appendChild(canvas);\n    var ctx = canvas.getContext('2d');\n    var img = new Image();\n\n    img.onload = function () {\n      var width = img.width,\n          height = img.height;\n      var drawWidth = MEASURE_SIZE;\n      var drawHeight = MEASURE_SIZE;\n      var offsetX = 0;\n      var offsetY = 0;\n\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      var dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      resolve(dataURL);\n    };\n\n    img.src = window.URL.createObjectURL(file);\n  });\n}","map":{"version":3,"sources":["C:/Users/tanka/Desktop/ESC/Project/SingHealthApp/singhealth2.0/client/node_modules/antd/es/upload/utils.js"],"names":["_extends","_toConsumableArray","T","wrapFile","file","filledProps","lastModified","lastModifiedDate","name","size","type","uid","percent","originFileObj","Proxy","data","Map","Object","entries","get","target","key","has","set","_","value","prop","ownKeys","keys","concat","Set","getOwnPropertyDescriptor","enumerable","configurable","getFileItem","fileList","matchKey","undefined","filter","item","removeFileItem","removed","length","extname","url","arguments","temp","split","filename","filenameWithoutSuffix","exec","isImageFileType","indexOf","isImageUrl","thumbUrl","extension","test","MEASURE_SIZE","previewImage","Promise","resolve","canvas","document","createElement","width","height","style","cssText","body","appendChild","ctx","getContext","img","Image","onload","drawWidth","drawHeight","offsetX","offsetY","drawImage","dataURL","toDataURL","removeChild","src","window","URL","createObjectURL"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\r\nexport function T() {\r\n  return true;\r\n}\r\n/**\r\n * Wrap file with Proxy to provides more info. Will fallback to object if Proxy not support.\r\n *\r\n * Origin comment: Fix IE file.status problem via coping a new Object\r\n */\r\n\r\nexport function wrapFile(file) {\r\n  var filledProps = {\r\n    lastModified: file.lastModified,\r\n    lastModifiedDate: file.lastModifiedDate,\r\n    name: file.name,\r\n    size: file.size,\r\n    type: file.type,\r\n    uid: file.uid,\r\n    percent: 0,\r\n    originFileObj: file\r\n  };\r\n\r\n  if (typeof Proxy !== 'undefined') {\r\n    var data = new Map(Object.entries(filledProps));\r\n    return new Proxy(file, {\r\n      get: function get(target, key) {\r\n        if (data.has(key)) {\r\n          return data.get(key);\r\n        }\r\n\r\n        return target[key];\r\n      },\r\n      set: function set(_, key, value) {\r\n        data.set(key, value);\r\n        return true;\r\n      },\r\n      has: function has(target, prop) {\r\n        return data.has(prop) || prop in target;\r\n      },\r\n      ownKeys: function ownKeys(target) {\r\n        var keys = [].concat(_toConsumableArray(Object.keys(target)), _toConsumableArray(data.keys()));\r\n        return _toConsumableArray(new Set(keys));\r\n      },\r\n      getOwnPropertyDescriptor: function getOwnPropertyDescriptor() {\r\n        return {\r\n          enumerable: true,\r\n          configurable: true\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  return _extends(_extends({}, file), filledProps);\r\n}\r\nexport function getFileItem(file, fileList) {\r\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\r\n  return fileList.filter(function (item) {\r\n    return item[matchKey] === file[matchKey];\r\n  })[0];\r\n}\r\nexport function removeFileItem(file, fileList) {\r\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\r\n  var removed = fileList.filter(function (item) {\r\n    return item[matchKey] !== file[matchKey];\r\n  });\r\n\r\n  if (removed.length === fileList.length) {\r\n    return null;\r\n  }\r\n\r\n  return removed;\r\n} // ==================== Default Image Preview ====================\r\n\r\nvar extname = function extname() {\r\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\r\n  var temp = url.split('/');\r\n  var filename = temp[temp.length - 1];\r\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\r\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\r\n};\r\n\r\nvar isImageFileType = function isImageFileType(type) {\r\n  return type.indexOf('image/') === 0;\r\n};\r\n\r\nexport var isImageUrl = function isImageUrl(file) {\r\n  if (file.type && !file.thumbUrl) {\r\n    return isImageFileType(file.type);\r\n  }\r\n\r\n  var url = file.thumbUrl || file.url;\r\n  var extension = extname(url);\r\n\r\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(extension)) {\r\n    return true;\r\n  }\r\n\r\n  if (/^data:/.test(url)) {\r\n    // other file types of base64\r\n    return false;\r\n  }\r\n\r\n  if (extension) {\r\n    // other file types which have extension\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\nvar MEASURE_SIZE = 200;\r\nexport function previewImage(file) {\r\n  return new Promise(function (resolve) {\r\n    if (!file.type || !isImageFileType(file.type)) {\r\n      resolve('');\r\n      return;\r\n    }\r\n\r\n    var canvas = document.createElement('canvas');\r\n    canvas.width = MEASURE_SIZE;\r\n    canvas.height = MEASURE_SIZE;\r\n    canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\r\n    document.body.appendChild(canvas);\r\n    var ctx = canvas.getContext('2d');\r\n    var img = new Image();\r\n\r\n    img.onload = function () {\r\n      var width = img.width,\r\n          height = img.height;\r\n      var drawWidth = MEASURE_SIZE;\r\n      var drawHeight = MEASURE_SIZE;\r\n      var offsetX = 0;\r\n      var offsetY = 0;\r\n\r\n      if (width > height) {\r\n        drawHeight = height * (MEASURE_SIZE / width);\r\n        offsetY = -(drawHeight - drawWidth) / 2;\r\n      } else {\r\n        drawWidth = width * (MEASURE_SIZE / height);\r\n        offsetX = -(drawWidth - drawHeight) / 2;\r\n      }\r\n\r\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\r\n      var dataURL = canvas.toDataURL();\r\n      document.body.removeChild(canvas);\r\n      resolve(dataURL);\r\n    };\r\n\r\n    img.src = window.URL.createObjectURL(file);\r\n  });\r\n}"]},"metadata":{},"sourceType":"module"}